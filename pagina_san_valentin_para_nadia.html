<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nadia ‚Äî ¬øQuieres ser mi San Valent√≠n?</title>
  <meta name="description" content="Una mini p√°gina para preguntarle a Nadia si quiere ser tu San Valent√≠n." />

  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#1b0f2a;
      --stroke: rgba(255,255,255,.20);
      --ink: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);

      /* Paleta cute para NADIA */
      --sun:#ffd84d;
      --sky:#4db7ff;
      --violet:#a855f7;

      --pink:#ff4da6;
      --shadow: 0 26px 70px rgba(0,0,0,.42);
      --radius: 30px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow-x:hidden;
      background:
        radial-gradient(900px 500px at 20% 10%, rgba(255,77,166,.22), transparent 60%),
        radial-gradient(700px 520px at 85% 20%, rgba(77,255,210,.14), transparent 65%),
        radial-gradient(900px 800px at 50% 100%, rgba(255,255,255,.07), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:28px 16px;
      position:relative;
      isolation:isolate;
    }

    /* Floating hearts background */
    .float-layer{
      position:absolute;
      inset:-10vh -10vw;
      z-index:-1;
      pointer-events:none;
      filter: blur(.2px);
      opacity:.95;
    }

    .heart{
      position:absolute;
      width:18px;
      height:18px;
      transform: rotate(45deg);
      background: linear-gradient(180deg, rgba(255,216,77,.95), rgba(77,183,255,.75), rgba(168,85,247,.75));
      border-radius: 5px;
      box-shadow: 0 14px 35px rgba(168,85,247,.16);
      animation: floatUp linear infinite;
    }
    .heart::before,
    .heart::after{
      content:"";
      position:absolute;
      width:18px;
      height:18px;
      background:inherit;
      border-radius:50%;
    }
    .heart::before{left:-9px; top:0}
    .heart::after{left:0; top:-9px}

    @keyframes floatUp{
      from{ transform: translateY(20vh) rotate(45deg) scale(var(--s,1)); opacity:0 }
      12%{opacity:.95}
      to{ transform: translateY(-120vh) rotate(45deg) scale(var(--s,1)); opacity:0 }
    }

    /* Card */
    .card{
      width:min(720px, 100%);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px;
      position:relative;
      overflow:hidden;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(600px 220px at 20% 10%, rgba(255,77,166,.20), transparent 60%),
        radial-gradient(520px 220px at 90% 10%, rgba(77,255,210,.14), transparent 60%);
      z-index:0;
      pointer-events:none;
    }

    .card > *{position:relative; z-index:1}

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.18);
      border-radius: 999px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      font-size: 13px;
      color: var(--muted);
    }

    .pulse{
      width:10px;
      height:10px;
      border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff, var(--pink));
      box-shadow: 0 0 0 0 rgba(255,77,166,.55);
      animation:pulse 1.6s ease-in-out infinite;
    }

    @keyframes pulse{
      0%{ box-shadow: 0 0 0 0 rgba(255,77,166,.55)}
      70%{ box-shadow: 0 0 0 14px rgba(255,77,166,0)}
      100%{ box-shadow: 0 0 0 0 rgba(255,77,166,0)}
    }

    .title{
      margin: 18px 0 10px;
      font-size: clamp(30px, 4.7vw, 52px);
      letter-spacing: -0.02em;
      line-height: 1.06;
    }

    .title .name{
      background: linear-gradient(90deg, var(--sun), var(--sky), var(--violet));
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      text-shadow:
        0 18px 60px rgba(255,216,77,.14),
        0 18px 60px rgba(77,183,255,.12),
        0 18px 60px rgba(168,85,247,.12);
    }

    .title .question{
      background: linear-gradient(90deg, #ff2d3d, #ff4da6, #a855f7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 18px 60px rgba(255,45,61,.16);
    }

    .subtitle{
      margin: 0 0 10px;
      font-size: 16px;
      line-height: 1.6;
      color: var(--muted);
      max-width: 60ch;
    }

    .note{
      margin: 0 0 16px;
      font-size: 15px;
      line-height: 1.7;
      color: rgba(255,255,255,.80);
      max-width: 62ch;
    }

    .actions{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:center;
      width: 100%;
      margin-top: 18px;
    }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      padding: 18px 22px;
      border-radius: 20px;
      font-weight: 900;
      font-size: 18px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      min-width: 220px;
      text-align:center;
      line-height: 1.2;
      white-space: normal;
      transition: transform .12s ease, filter .12s ease, background .12s ease, box-shadow .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    .btn:active{ transform: translateY(1px) scale(.99) }

    .btn-yes{
      background: linear-gradient(180deg, rgba(255,216,77,1), rgba(77,183,255,1), rgba(168,85,247,1));
      color: rgba(10,10,14,.92);
      box-shadow: 0 18px 42px rgba(168,85,247,.22);
    }

    .btn-yes:hover{ filter: brightness(1.06) saturate(1.08) }

    .btn-no{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.16);
      color: var(--ink);
      box-shadow: 0 16px 30px rgba(0,0,0,.20);
      position:relative;
    }

    .btn-no:hover{ background: rgba(255,255,255,.09) }

    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      padding: 22px 16px;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 50;
    }

    .overlay.show{display:grid}

    .modal{
      width:min(680px, 100%);
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
      padding: 22px;
      position:relative;
      overflow:hidden;
    }

    .modal::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 260px at 35% 0%, rgba(255,77,166,.26), transparent 60%),
        radial-gradient(520px 260px at 90% 10%, rgba(77,255,210,.16), transparent 60%);
      z-index:0;
    }

    .modal > *{position:relative; z-index:1}

    .modal h2{
      margin: 0 0 8px;
      font-size: clamp(22px, 3.2vw, 32px);
      letter-spacing:-0.02em;
    }

    .modal p{
      margin: 0 0 18px;
      color: rgba(255,255,255,.78);
      line-height:1.6;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .btn-ghost{
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      color: var(--ink);
      box-shadow:none;
    }

    .spark{
      display:inline-grid;
      place-items:center;
      width:26px;
      height:26px;
      border-radius: 10px;
      background: rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.20);
      font-size: 16px;
    }

    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:60;
      overflow:hidden;
      display:none;
    }
    .confetti.show{display:block}

    .piece{
      position:absolute;
      width: 10px;
      height: 14px;
      opacity:.95;
      border-radius: 4px;
      transform: translateY(-20vh) rotate(0deg);
      animation: fall linear forwards;
    }

    @keyframes fall{
      to{ transform: translateY(120vh) rotate(720deg); opacity: 0.95 }
    }

    @media (max-width:420px){
      .card{padding:20px}
      .btn{width:100%; min-width: 0; justify-content:center}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="float-layer" id="floatLayer" aria-hidden="true"></div>

    <main class="card" role="main">
      <div class="badge">
        <span class="pulse"></span>
        <span>Mensaje especial de <strong>Luis</strong> para <strong>Nadia</strong></span>
      </div>

      <h1 class="title">
        <span class="name">Nadia</span>,
        <span class="question">¬øquieres ser mi San Valent√≠n?</span>
      </h1>

      <p class="subtitle">Yo solo quiero verte sonreir hoy y todos los dias de mi vida</p>
      <p class="note">Nadia, contigo lo simple se vuelve especial. Quiero compartir contigo este 14 y muchos momentos bonitos m√°s. ‚ú®</p>

      <div class="actions">
        <button class="btn btn-yes" id="yesBtn">
          <span class="spark">üíû</span>
          S√≠
        </button>

        <button class="btn btn-no" id="noBtn" aria-label="No">
          <span class="spark">ü•∫</span>
          No
        </button>
      </div>
    </main>
  </div>

  <section class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h2 id="modalTitle">Te amo mi melocotoncita ‚ù§Ô∏è</h2>
      <p id="modalText">Nadia, contigo todo se siente m√°s bonito. Quiero cuidarte, hacerte re√≠r y sumar paz a tu vida. Hoy y siempre, yo elijo estar contigo. ‚ú®</p>
      <div class="row">
        <button class="btn btn-ghost" id="closeBtn"><span class="spark">‚úÖ</span>Cerrar</button>
      </div>
    </div>
  </section>

  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <script>
    (function(){
      function rand(min, max){ return Math.random() * (max - min) + min; }

      function runWhenReady(fn){
        if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', fn);
        else fn();
      }

      runWhenReady(function init(){
        // Background hearts
        var floatLayer = document.getElementById('floatLayer');
        if(floatLayer){
          var HEARTS = 26;
          for(var i=0;i<HEARTS;i++){
            var h = document.createElement('div');
            h.className = 'heart';
            h.style.left = rand(0, 100) + 'vw';
            h.style.top = rand(75, 110) + 'vh';
            h.style.animationDuration = rand(6.5, 14.5) + 's';
            h.style.animationDelay = rand(0, 7) + 's';
            h.style.setProperty('--s', rand(0.75, 1.6));
            h.style.opacity = rand(0.25, 0.95);
            floatLayer.appendChild(h);
          }
        }

        // Elements
        var yesBtn = document.getElementById('yesBtn');
        var noBtn  = document.getElementById('noBtn');
        var overlay = document.getElementById('overlay');
        var closeBtn = document.getElementById('closeBtn');
        var confetti = document.getElementById('confetti');

        if(!yesBtn || !noBtn || !overlay || !closeBtn || !confetti){
          console.warn('Faltan elementos del DOM (IDs). Revisa que el HTML completo est√© pegado.');
          return;
        }

        function openOverlay(){
          overlay.classList.add('show');
          overlay.setAttribute('aria-hidden','false');
          startConfetti();
        }

        function closeOverlay(){
          overlay.classList.remove('show');
          overlay.setAttribute('aria-hidden','true');
          stopConfetti();
        }

        yesBtn.addEventListener('click', function(){
          // Mantener texto del modal (ya est√° en HTML), pero por si se reutiliza:
          var mt = document.getElementById('modalTitle');
          var mp = document.getElementById('modalText');
          if(mt) mt.textContent = 'Te amo mi melocotoncita ‚ù§Ô∏è';
          if(mp) mp.textContent = 'Nadia, contigo todo se siente m√°s bonito. Quiero cuidarte, hacerte re√≠r y sumar paz a tu vida. Hoy y siempre, yo elijo estar contigo. ‚ú®';
          openOverlay();
        });

        // "No" never clickable
        function dodge(){
          var rect = noBtn.getBoundingClientRect();
          var pad = 14;
          var vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
          var vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);

          var newLeft = Math.min(vw - rect.width - pad, Math.max(pad, rand(0, vw - rect.width)));
          var newTop  = Math.min(vh - rect.height - pad, Math.max(pad, rand(0, vh - rect.height)));

          noBtn.style.position = 'fixed';
          noBtn.style.left = newLeft + 'px';
          noBtn.style.top  = newTop + 'px';
          noBtn.style.zIndex = 20;
        }

        noBtn.addEventListener('mouseenter', dodge);
        noBtn.addEventListener('focus', dodge);
        noBtn.addEventListener('touchstart', function(e){ e.preventDefault(); dodge(); }, {passive:false});
        noBtn.addEventListener('click', function(e){ e.preventDefault(); e.stopPropagation(); dodge(); });

        closeBtn.addEventListener('click', closeOverlay);
        overlay.addEventListener('click', function(e){ if(e.target === overlay) closeOverlay(); });

        // Confetti
        var confettiTimer;

        function startConfetti(){
          confetti.classList.add('show');
          confetti.innerHTML = '';

          var pieces = 90;
          var vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);

          for(var i2=0;i2<pieces;i2++){
            var p = document.createElement('div');
            p.className = 'piece';
            p.style.left = rand(0, vw) + 'px';
            p.style.top = rand(-30, -5) + 'vh';
            p.style.animationDuration = rand(2.8, 5.8) + 's';
            p.style.animationDelay = rand(0, .8) + 's';
            p.style.opacity = rand(.65, .98);

            var tint = Math.random();
            if(tint < 0.33) p.style.background = 'rgba(255,216,77,.85)';
            else if(tint < 0.66) p.style.background = 'rgba(77,183,255,.75)';
            else p.style.background = 'rgba(168,85,247,.78)';

            confetti.appendChild(p);
          }

          clearTimeout(confettiTimer);
          confettiTimer = setTimeout(function(){
            confetti.classList.remove('show');
          }, 3800);
        }

        function stopConfetti(){
          confetti.classList.remove('show');
          confetti.innerHTML = '';
          clearTimeout(confettiTimer);
        }

        window.addEventListener('keydown', function(e){
          if(e.key === 'Escape' && overlay.classList.contains('show')) closeOverlay();
        });

        // ===== Tests (opcional) =====
        (function runTests(){
          var params = new URLSearchParams(location.search);
          if(!params.has('test')) return;

          var results = [];
          function assert(name, cond){ results.push({name:name, ok:!!cond}); }

          try{
            // Existing expectations
            assert('Boton YES existe', !!yesBtn);
            assert('Boton NO existe', !!noBtn);
            assert('Overlay existe', !!overlay);
            assert('Confetti existe', !!confetti);
            assert('Badge incluye Luis', document.querySelector('.badge') && document.querySelector('.badge').innerText.toLowerCase().indexOf('luis') !== -1);
            assert('Boton YES dice Si', document.getElementById('yesBtn') && document.getElementById('yesBtn').innerText.indexOf('S√≠') !== -1);
            assert('Modal titulo dice melocotoncita', document.getElementById('modalTitle') && document.getElementById('modalTitle').innerText.toLowerCase().indexOf('melocotoncita') !== -1);
            assert('Modal texto romantico existe', document.getElementById('modalText') && document.getElementById('modalText').innerText.length > 20);
            assert('TikTok removido', !document.querySelector('.tiktok'));
            assert('Sin tip', !document.getElementById('hint'));


            dodge();
            assert('Dodge mueve NO a fixed', getComputedStyle(noBtn).position === 'fixed');
          }catch(e){
            results.push({name:'No hay exceptions', ok:false, error: String(e)});
          }

          console.group('Tests San Valentin');
          for(var k=0;k<results.length;k++){
            var r = results[k];
            var msg = (r.ok ? '‚úÖ ' : '‚ùå ') + r.name + (r.error ? (' ‚Äî ' + r.error) : '');
            (r.ok ? console.log : console.error)(msg);
          }
          console.groupEnd();
        })();
      });
    })();
  </script>
</body>
</html>
